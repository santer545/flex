function send(e){console.log(parent_url),XD.postMessage(e,parent_url,parent)}function resize_canvas(){console.log("resize_canvas")}function createWidget(e){var t={extendObject:function(e,t){for(prop in t)e[prop]=t[prop];return e},proto:"https:"==document.location.protocol?"https://":"http://"},n=t.extendObject({sat_id:0,domain:"mycredit.ua/ru/satellites/registration",container_id:"",money:51,days:9,width:"100%",height:"100%"},e);n.widget_url=[t.proto,n.domain,"/?","sat_id=",n.sat_id,"&money=",n.money,"&days=",n.days].join(""),n.widget_url+="&parentUrl="+encodeURIComponent(document.location.href)+"/",Widget={created:!1,widgetElement:null,show:function(){this.created||(this.widgetElement=document.createElement("div"),this.widgetElement.setAttribute("id","widget_container"),this.widgetElement.setAttribute("class","embed-responsive embed-responsive-16by9"),this.widgetElement.innerHTML=' \t\t\t\t<iframe class="embed-responsive-item" id="widget_iframe" src="'+n.widget_url+'" scrolling="yes" width="'+n.width+'" height="'+n.height+'" frameborder="0"></iframe>',n.container_id&&document.getElementById(n.container_id)?document.getElementById(n.container_id).appendChild(this.widgetElement):document.body.insertBefore(this.widgetElement,document.body.nextSibling),this.widgetElement.style.display="block",this.widgetElement.style.height="100vh",this.created=!0)}},XD.receiveMessage(function(e){console.log("message = "+e.data),e.data>0&&document.getElementById("widget_iframe")&&(document.getElementById("widget_iframe").height=e.data,console.log("высота "+e.data+" прописана"))},(t.proto+n.domain).replace(/([^:]+:\/\/[^\/]+).*/,"$1")),Widget.show()}var parent_url=decodeURIComponent(document.location.hash),XD=function(){var e,t,n,i=1,o=this;return{postMessage:function(e,t,n){console.log("postMessage test"),t&&(n=n||parent,o.postMessage?n.postMessage(e,t.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):t&&(n.location=t.replace(/#.*$/,"")+"#"+ +new Date+i++ +"&"+e))},receiveMessage:function(i,s){o.postMessage?(i&&(n=function(e){return"string"==typeof s&&e.origin!==s||"[object Function]"===Object.prototype.toString.call(s)&&s(e.origin)===!1?(console.log("return false source_origin = "+s+" e.origin = "+e.origin),!1):void i(e)}),o.addEventListener?o[i?"addEventListener":"removeEventListener"]("message",n,!1):o[i?"attachEvent":"detachEvent"]("onmessage",n)):(e&&clearInterval(e),e=null,i&&(e=setInterval(function(){var e=document.location.hash,n=/^#?\d+&/;e!==t&&n.test(e)&&(t=e,i({data:e.replace(n,"")}))},100)))}}}();